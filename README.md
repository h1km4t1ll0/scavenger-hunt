# ScavengerHunt bot

## Описание
Бот написан с использованием pytelegrambotapi,
админпанель реализована на django. Бот позволяет
проводить массовые мероприятия и обеспечивает стабильную
работу под нагрузкой

## Локальный запуск
Проект использует пакетный менеджер poetry,
его наличие _**обязательно**_. После установки poetry,
следует установить пакеты `poetry install` и 
создать интерпретатор в настройках проекта.

Для запуска:
* в PyCharm добавить конфигурацию `djangoServer`
* выбрать созданный выше интерпретатор 
* указать в переменных окружения:
`PYTHONUNBUFFERED=1;DJANGO_SETTINGS_MODULE=scavengerHunt.settings`
* для первого запуска необходимо выполнить серию команд из корня проекта:
  * `python3 manage.py migrate scavengerHunt`
  * `python3 manage.py makemigrations scavengerHunt`

## FAQ по джанге
* официальная дока - https://www.djangoproject.com/
* после мутации модели данных (файл `models.py`)
необходимо сделать миграции. Для этого необходимо 
выполнить ряд команд из корня проекта:
  * `python3 manage.py scavengerHunt makemigrations` - создает файл миграции
  * `python3 manage.py scavengerHunt migrate` - накатывает миграцию в бд
* для запсука админки не через PyCharm - `python3 manage.py runserver`
* для запуска бота (локально) - `python3 manage.py start`
* Для локального запуска необходимо указать в .env только переменную `BOT_TOKEN`,
остальные переменные примут значения по умолчанию для дебага

## Указания для разработки
Данный раздел содержит в себе рекомендации для разработки
и контрибуции в проект

* каждая фича - отдельная ветка
* обяхательно использование соглашения о коммитах - https://www.conventionalcommits.org/ru/v1.0.0/
* перед созданием merge/pull реквеста необходимо выполнить из корня проекта
`poetry run mypy . --config-file mypy.ini --no-namespace-packages`
и пофиксить ошибки
